<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>
    <button>按钮</button>
    <ul class="ul">
    </ul>
    <script src="./axios.min.js"></script>
    <script>
        // const btn = document.querySelector('button')
        // // 如果想用async await
        // btn,addEventListener('click',async()=>{
        //     const res = await axios({
        //         url:'http://192.168.19.56:8989/api/status'
        //     })
        //     // console.log('res',res)
        //     const data = res.data
        //     console.log(data)
        // })







        
                // 如果用原生的ajax发送请求 

                const api_url = 'http://192.168.19.66:8888/api/students'

                // 1. 创建一个xhr对象
                const xhr = new XMLHttpRequest()

                // 2. 设置请求方法和接口地址
                xhr.open('GET', api_url)

                // 可以设置请求头  -- 一般可以省略，后端可以拿到这个请求头，做一些特殊处理
                // xhr.setRequestHeader('myHeader', 'test-header')

                // 3. 发送请求
                xhr.send()

                // 4. 监听ajax状态改变的事件 onreadystatechange

                // xhr.onload = function(){
                
                // }
                // xhr.onreadystatechange = function(){
                
                // }
                xhr.addEventListener('readystatechange', () => {
                    // ajax的五个状态  4 ==> 返回的数据已经下载完了
                    if (xhr.readyState === 4){
                        // xhr.status ==> 状态码 301 302 重定向 304==> 命中缓存了 
                        if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304){
                            // console.log(xhr.responseText)
                            console.log(xhr.response)
                        } else {
                            console.log('请求不成功')
                        }
                    }
                })
    </script>
</body>
</html>